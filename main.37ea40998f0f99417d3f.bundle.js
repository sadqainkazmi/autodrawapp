webpackJsonp([1,4],{0:function(t,e,n){t.exports=n("x35b")},"5xMp":function(t,e){t.exports='<header>\r\n  <h1>AutoDraw<br><h2>An Intelligent App</h2></h1>\r\n  <h2>Artificial Intelligent Project | PAF-Kiet 102470</h2>\r\n \r\n</header>\r\n\r\n<div class="canvas">\r\n  <canvas #canvas width="350" height="350"></canvas>\r\n  <button type="button" class="clear-canvas-button" (click)="eraseCanvas()">Clear canvas</button>\r\n</div>\r\n\r\n\r\n<div class="autodraw-results">\r\n  <ng-template ngFor [ngForOf]="drawSuggestions" let-suggestion>\r\n    <figure class="autodraw-image" *ngFor="let icon of suggestion.icons" (click)="pickSuggestion(icon)">\r\n      <img src="{{ icon }}" width="90" height="90" alt="{{ suggestion.name }}" title="{{ suggestion.name }}">\r\n    </figure>\r\n  </ng-template>\r\n</div>\r\n'},Iksp:function(t,e,n){"use strict";var i=n("Qbdm"),s=n("3j3K"),r=n("NVOs"),o=n("Fzro"),a=n("YWx4"),c=n("fwo/");n.d(e,"a",function(){return p});var u=this&&this.__decorate||function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},p=function(){function t(){}return t}();p=u([n.i(s.b)({declarations:[a.a],imports:[i.a,r.a,o.a],providers:[c.a],bootstrap:[a.a]})],p)},MOVZ:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="MOVZ"},YWx4:function(t,e,n){"use strict";var i=n("3j3K"),s=n("rCTf"),r=(n.n(s),n("fwo/")),o=n("E7Yq");n.n(o);n.d(e,"a",function(){return u});var a=this&&this.__decorate||function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t){this.autoDrawService=t,this.previousXAxis=0,this.previousYAxis=0,this.currentXAxis=0,this.currentYAxis=0,this.pressing=!1,this.shapes=[],this.intervalLastPosition=[-1,-1]}return t.prototype.ngOnInit=function(){var t=this;this.autoDrawService.loadStencils(),this.context=this.canvas.nativeElement.getContext("2d");var e=["mousemove","mousedown","mouseup","mouseout"];this.canvasMouseEventSubscriptions=e.map(function(e){return s.Observable.fromEvent(t.canvas.nativeElement,e).subscribe(function(e){return t.draw(e)})})},t.prototype.ngOnDestroy=function(){for(var t=0,e=this.canvasMouseEventSubscriptions;t<e.length;t++){e[t].unsubscribe()}},t.prototype.eraseCanvas=function(){this.shapes=[],this.context.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height)},t.prototype.prepareNewShape=function(){this.currentShape=[[],[],[]]},t.prototype.storeCoordinates=function(){this.intervalLastPosition[0]!==this.previousXAxis&&this.intervalLastPosition[1]!==this.previousYAxis&&(this.intervalLastPosition=[this.previousXAxis,this.previousYAxis],this.currentShape=[this.currentShape[0].concat([this.previousXAxis]),this.currentShape[1].concat([this.previousYAxis]),this.currentShape[2].concat([Date.now()-this.pressedAt])])},t.prototype.onDrawingMouseDown=function(t){var e,n=this;return this.previousXAxis=this.currentXAxis,this.previousYAxis=this.currentYAxis,this.currentXAxis=t.clientX-this.canvas.nativeElement.offsetLeft,this.currentYAxis=t.clientY-this.canvas.nativeElement.offsetTop,this.pressing=!0,this.pressedAt=Date.now(),e=!0,this.prepareNewShape(),e&&(this.context.beginPath(),this.context.fillStyle="black",this.context.fillRect(this.currentXAxis,this.currentYAxis,2,2),this.context.closePath(),e=!1),window.setInterval(function(){return n.storeCoordinates()},9)},t.prototype.onDrawingMouseMove=function(t){var e="black";this.previousXAxis=this.currentXAxis,this.previousYAxis=this.currentYAxis,this.currentXAxis=t.clientX-this.canvas.nativeElement.offsetLeft,this.currentYAxis=t.clientY-this.canvas.nativeElement.offsetTop,this.context.beginPath(),this.context.moveTo(this.previousXAxis,this.previousYAxis),this.context.lineTo(this.currentXAxis,this.currentYAxis),this.context.strokeStyle=e,this.context.fillStyle=e,this.context.lineCap="round",this.context.lineJoin="round",this.context.lineWidth=8,this.context.stroke(),this.context.closePath()},t.prototype.draw=function(t){var e;"mousedown"===t.type&&(e=this.onDrawingMouseDown(t)),("mouseup"===t.type||this.pressing&&"mouseout"===t.type)&&(this.pressing=!1,clearInterval(e),this.commitCurrentShape()),"mousemove"===t.type&&this.pressing&&this.onDrawingMouseMove(t)},t.prototype.commitCurrentShape=function(){var t=this;this.shapes.push(this.currentShape);var e={canvasWidth:this.canvas.nativeElement.width,canvasHeight:this.canvas.nativeElement.height};this.autoDrawService.drawSuggestions(this.shapes,e).subscribe(function(e){return t.drawSuggestions=e})},t.prototype.pickSuggestion=function(t){var e=this;this.eraseCanvas();var n=new Image;n.onload=function(){return e.context.drawImage(n,0,0)},n.src=t},t}();a([n.i(i._5)("canvas"),c("design:type",Object)],u.prototype,"canvas",void 0),u=a([n.i(i._6)({selector:"app-root",template:n("5xMp"),styles:[n("sQHO")]}),c("design:paramtypes",["function"==typeof(p=void 0!==r.a&&r.a)&&p||Object])],u);var p},"fwo/":function(t,e,n){"use strict";var i=n("oIew");n.d(e,"a",function(){return i.a})},kZql:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={production:!0}},oIew:function(t,e,n){"use strict";var i=n("Fzro"),s=n("3j3K"),r=n("+pb+");n.n(r);n.d(e,"a",function(){return p});var o=this&&this.__decorate||function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c="https://inputtools.google.com/request?ime=handwriting&app=autodraw&dbg=1&cs=1&oe=UTF-8",u="src/data/stencils.json",p=function(){function t(t){this.http=t}return t.prototype.loadStencils=function(){var t=this;this.http.get(u).subscribe(function(e){return t.stencils=e.json()})},t.prototype.drawSuggestions=function(t,e){var n=this,s=new i.b({"Content-Type":"application/json; charset=utf-8"}),r=new i.c({headers:s});return this.http.post(c,JSON.stringify({input_type:0,requests:[{language:"autodraw",writing_guide:{width:e.canvasWidth,height:e.canvasHeight},ink:t}]}),r).map(function(t){var e=t.json();return JSON.parse(e[1][0][3].debug_info.match(/SCORESINKS: (.*) Service_Recognize:/)[1]).map(function(t){return{name:t[0],icons:(n.stencils[t[0]]||[]).map(function(t){return t.src})}})})},t}();p=o([n.i(s.c)(),a("design:paramtypes",["function"==typeof(h=void 0!==i.d&&i.d)&&h||Object])],p);var h},sQHO:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,".canvas{width:365px;margin-bottom:55px;vertical-align:top}.canvas canvas{border:1px solid #b3c8b6;display:block;background-color:#fff}.canvas .clear-canvas-button{margin-top:10px;padding:7px;font-size:16px;border-radius:5px;color:#fff;background-color:#ff4f75;cursor:pointer;position:absolute;margin-bottom:40px;outline:none}.autodraw-results,.canvas{margin-top:45px;margin-left:40px}.autodraw-results,.canvas,canvas{border-radius:10px;display:inline-block}.autodraw-results{width:650px;height:350px;overflow-y:auto;background-color:#fff;box-shadow:0 1px 8px #b3c8b6}.autodraw-image{border:1px solid #b3c8b6;display:inline-block;width:90px;height:90px;padding:0;margin:5px;cursor:pointer}",""]),t.exports=t.exports.toString()},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("3j3K"),s=n("O61y"),r=n("Iksp");n("kZql").a.production&&n.i(i.a)(),n.i(s.a)().bootstrapModule(r.a)}},[0]);